!function(t,e,o){var s=function(s,i){var r,n=0,a=0,p="",c=0,f=!1,g=!1,l=!1,u=!1,m=!1,d=!1,h=0,I=0,b=0,k=0,v=0,x=0,H=0,W=t(),w=0,y=0,z=t('<div style="margin-top:0;margin-bottom:0; padding:0"></div>'),C=t(),M={top:0,bottom:0,custom:[]},U={scrollHide:!1,lazyHeight:0,topMargin:"auto",keepInWrapper:!1,wrapperSelector:"",zIndex:99,syncPosition:!1,namespaceClass:"stuckElement",fixedClass:"isStuck",disableOn:function(){return!0}},T=function(){return"auto"===U.topMargin?parseInt(W.css("marginTop")):isNaN(U.topMargin)&&U.topMargin.search("px")>0?parseInt(U.topMargin.replace("px","")):isNaN(parseInt(U.topMargin))?0:parseInt(U.topMargin)},S=function(){var t={cancel:!1};W.trigger("stickUp:beforeUnstick",[t]),t.cancel||(z.remove(),W.removeClass(U.fixedClass).css({maxWidth:"",marginTop:"",marginLeft:"",marginRight:"",position:"",top:"",left:"",right:"",bottom:"",width:""}),f=!1,g=!1,l=!1,U.syncPosition&&E(),W.trigger("stickUp:unstick"))},N=function(t){W.before(z.css("height",I));var e=z.offsetParent();if(t){W.css({position:"absolute"});var o=C.offset().top+C.outerHeight()-e.offset().top-b-parseInt(C.css("paddingBottom"))}W.css({position:"absolute",marginTop:w,bottom:"",left:z.position().left,top:t?o:W.offset().top-e.offset().top-w})},P=function(){var t={cancel:!1};if(W.trigger("stickUp:beforeStick",[t]),!t.cancel){f=!0,W.before(z.css("height",I)),W.addClass(U.fixedClass);var e=-y;W.css({marginTop:w,position:"fixed",top:e+"px",left:"",right:"",bottom:""}),W.trigger("stickUp:stick")}},B=function(){W.before(z.css("height",I)),W.addClass(U.fixedClass);var t=-y;W.css({marginTop:w,position:"fixed",top:"",left:"",right:"",bottom:t})},O=function(){z.width()!==W.outerWidth()&&W.outerWidth(z.outerWidth())},j=function(){r=z.offset().left,r!==W.offset().left,W.offset({left:r})},E=function(){z.css({"margin-left":W.css("margin-left"),"margin-right":W.css("margin-left")}),W.css({"margin-left":z.css("margin-left"),"margin-right":z.css("margin-right")})},L=function(s){if(!U.disableOn())return u||(S(),u=!0),void 0;if(u&&(u=!1),!U.keepInWrapper||C.is(":visible")){if(a=t(s.target).scrollTop(),p=a>=n?"down":"up",c=Math.abs(n-a),k=t(e).outerHeight(),v=a+k,n=a,x=W.offset().top,h=parseInt(W.outerHeight()+w)+parseInt(W.css("marginBottom")),f||l||g||(I=parseInt(W.outerHeight(!0)),M.top=g||l?parseInt(z.offset().top):parseInt(W.offset().top),r=parseInt(W.offset().left)+5),b=parseInt(W.outerHeight())+parseInt(W.css("margin-bottom"))+w,M.bottom=U.keepInWrapper?C.offset().top+C.outerHeight()-parseInt(C.css("paddingBottom")):t(o).outerHeight(),H=W.offset().top+b,h>k)d=!0,m&&(y=0,l&&N(),m=!1),l&&"up"===p&&x-w>=a&&(P(),f=!0,g=!1,l=!1),!f&&!g&&(!U.keepInWrapper||U.keepInWrapper&&v<=M.bottom)&&v>=H-w&&(B(),g=!0,f=!0,l=!1),(!l&&f&&g&&"up"===p||!l&&f&&!g&&"down"===p&&H>=v)&&(N(),f=!1,g=!1,l=!0),v>=M.bottom&&U.keepInWrapper&&(!g&&!l||parseInt(H-w)!==parseInt(M.bottom))&&(N(!0),f=!1,g=!0,l=!0);else if(m=!0,d&&(l&&N(),d=!1),y=U.scrollHide?h+U.lazyHeight:U.lazyHeight,(!f&&!g&&a>=M.top-w+y||g&&l&&x-w+y>=a)&&(P(),f=!0,g=!1,l=!1),U.keepInWrapper&&parseInt(H-w)!==parseInt(M.bottom)&&a>=M.bottom-b+y&&(N(!0),f=!1,g=!0,l=!0),f){var i=parseInt(W.css("top"));if("up"===p&&0!==i){var T=c>-i?0:i+c;W.css("top",T+"px")}else if("down"===p&&i>-y){var T=c>y+i?-y:i-c;W.css("top",T+"px")}}(f||l||g)&&a<=M.top-w&&S(),(f||l||g)&&O(),(U.syncPosition&&f||l)&&j(),W.trigger("stickUp:scroll")}},Q=function(t){W.trigger("stickUp:resize",U),w=null!==U.topMargin?T():0,l&&(N(),g=!1),L(t)},R=function(s,i){W=t(s),W.addClass(U.namespaceClass),i&&t.extend(!0,U,i),w=null!==U.topMargin?T():0,U.lazyHeight&&(w+=U.lazyHeight),U.keepInWrapper?(""!==U.wrapperSelector&&(C=W.closest(U.wrapperSelector)),C.length||(C=W.parent())):C=t("body"),U.zIndex&&W.css("z-index",U.zIndex),j&&E(),t(e).on("scroll.stickUp",L),t(e).on("resize.stickUp",Q),L({target:o})};R.call(this,s,i)};t.fn.stickUp=function(t){return this.each(function(){new s(this,t)})}}(jQuery,window,document);